<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Agenda telefonică</title>
    <link rel="stylesheet" type="text/css" href="assets/style.css">
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', appInit);
        function appInit(){
            console.log("DOM incarcat");
            let btn = document.querySelector("#btnAdauga");
            btn.addEventListener('click', adauga);


            for(let rand of document.querySelectorAll("tbody tr")){
                rand.addEventListener('mouseenter', changeColor);
                rand.addEventListener('mouseleave', changeColorAgain);
            }
        }
        console.log("Initializare"); // mai intai, pentru ca se construieste doc 

        function changeColor(){
            this.style.backgroundColor = "pink";
        }

        function changeColorAgain(){
            this.style.backgroundColor = "white";
        }
        
        function adauga(){
            console.log("adauga");
            let nume = document.querySelector("#nume").value;
            let prenume = document.querySelector("#prenume").value;
            let telefon = document.querySelector("#telefon").value;

            let tbody = document.querySelector("tbody");
            let row = document.createElement("tr");
            tbody.append(row);

            function adaugaRand(text){
                let cell = document.createElement("td");
                cell.innerText = text;
                row.append(cell);
            }

            adaugaRand(nume);
            adaugaRand(prenume);
            adaugaRand(telefon);
            row.addEventListener('mouseenter', changeColor);
            row.addEventListener('mouseleave', changeColorAgain);
        }


        
    </script>
</head>
<body>
    <h1>Agenda telefonică</h1>
    <table>
        <caption>
            Lista persoane
        </caption>
        <thead>
            <tr>
                <th>Nume</th>
                <th>Prenume</th>
                <th>Telefon</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Popescu</td>
                <td>Ion</td>
                <td>023423222</td>
            </tr>
            <tr>
                <td>Vasilescu</td>
                <td>Maria</td>
                <td>073423222</td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="3">Număr persoane: 2</td>
            </tr>
        </tfoot>
    </table>
    <form action="#" class="controls">
        <label for="nume">Nume:</label>
        <input name="nume" id="nume">

        <label for="prenume">Prenume:</label>
        <input name="prenume" id="prenume">

        <label for="Telefon">Telefon:</label>
        <input name="telefon" id="telefon">

        <input type="button" id="btnAdauga" name="btnAdauga" value="Adaugă">
    </form>
</body>
</html>